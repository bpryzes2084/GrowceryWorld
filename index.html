<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Growceryworld ‚Äî Giving You Choices</title>
  <meta name="description" content="Growceryworld ‚Äî Giving you choices. No monthly membership fees. Free item with every order." />
  <meta name="robots" content="index,follow" />

  <style>
    :root {
      --bg: #0b0d10;
      --card: #141821;
      --ink: #e6e9ef;
      --muted: #9aa4b2;
      --accent: #e6e9ef;
      --accent2: #28a745;
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: var(--ink);
      font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    a { color: inherit; text-decoration: none; }

    .wrap {
      max-width: 1100px;
      margin: 0 auto;
      padding: 48px 20px 80px;
    }
 
    /* Top Navigation */
    .top-nav {
      background: var(--card);
      border-bottom: 1px solid #1c2230;
      padding: 12px 20px;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .top-nav-inner {
      max-width: 1100px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
    }

    .nav-logo {
      font-weight: 700;
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .nav-logo span.emoji {
      font-size: 22px;
    }

    .nav-links {
      display: flex;
      gap: 16px;
      font-size: 14px;
      color: var(--muted);
    }

    .nav-links a:hover {
      color: var(--ink);
    }

    .cart-btn {
      background: transparent;
      border: 1px solid #1c2230;
      padding: 8px 16px;
      border-radius: 8px;
      color: var(--ink);
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      position: relative;
      transition: background 0.2s;
      font-size: 14px;
    }

    .cart-btn:hover { background: #1c2230; }

    .cart-count {
      background: #e74c3c;
      color: #fff;
      border-radius: 999px;
      min-width: 20px;
      height: 20px;
      display: none;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 700;
      padding: 0 6px;
      position: absolute;
      top: -6px;
      right: -6px;
    }

    /* Cart Panel + Overlay */
    .cart-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      z-index: 99;
      display: none;
    }
    .cart-overlay.show { display: block; }

    .cart-panel {
      position: fixed;
      top: 0;
      right: -420px;
      width: 400px;
      max-width: 100%;
      height: 100vh;
      background: var(--card);
      box-shadow: -4px 0 12px rgba(0,0,0,0.45);
      transition: right 0.25s ease-out;
      z-index: 100;
      display: flex;
      flex-direction: column;
    }
    .cart-panel.open { right: 0; }

    .cart-header {
      padding: 16px 20px;
      border-bottom: 1px solid #1c2230;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .cart-header h2 {
      margin: 0;
      font-size: 18px;
    }

    .cart-close {
      background: transparent;
      border: 0;
      color: var(--ink);
      font-size: 24px;
      cursor: pointer;
      width: 32px;
      height: 32px;
    }

    .cart-items {
      flex: 1;
      overflow-y: auto;
      padding: 16px 20px;
    }

    .cart-item {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #1c2230;
      margin-bottom: 10px;
      background: #10131b;
    }

    .cart-item-info {
      flex: 1;
    }

    .cart-item-name {
      margin: 0 0 2px;
      font-weight: 600;
      font-size: 14px;
    }

    .cart-item-price {
      margin: 0;
      font-size: 13px;
      color: var(--muted);
    }

    .cart-item-qty {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-top: 6px;
      font-size: 13px;
    }

    .qty-btn {
      background: #1c2230;
      border: 0;
      color: var(--ink);
      width: 24px;
      height: 24px;
      border-radius: 4px;
      cursor: pointer;
    }
    .qty-btn:hover { background: #252d3d; }

    .remove-btn {
      background: #e74c3c;
      border: 0;
      color: #fff;
      padding: 4px 8px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 11px;
      margin-left: auto;
    }
    .remove-btn:hover { background: #c0392b; }

    .cart-footer {
      padding: 16px 20px 20px;
      border-top: 1px solid #1c2230;
    }

    .cart-total-row {
      display: flex;
      justify-content: space-between;
      font-weight: 700;
      font-size: 16px;
      margin-bottom: 8px;
    }

    .cart-sub-row {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 4px;
    }

    .empty-cart {
      text-align: center;
      padding: 32px 16px;
      color: var(--muted);
      font-size: 14px;
    }

    .checkout-note {
      margin-top: 8px;
      font-size: 12px;
      color: var(--muted);
    }

    /* Hero + content */
    header.hero {
      text-align: center;
      margin-bottom: 24px;
    }

    header.hero .emoji {
      font-size: 48px;
    }

    header.hero h1 {
      font-size: 36px;
      margin: 8px 0 6px;
      letter-spacing: 0.3px;
    }

    header.hero .tag {
      color: var(--muted);
      margin: 0 0 8px;
    }

    .hero-sub {
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }

    .cta-email {
      display: inline-block;
      margin-top: 12px;
      padding: 8px 16px;
      border-radius: 12px;
      background: var(--accent);
      color: #0b0d10;
      font-weight: 700;
      font-size: 14px;
    }

    .section {
      margin: 32px 0;
    }

    /* Search section */
    .search-section {
      max-width: 760px;
      margin: 0 auto;
      text-align: left;
    }

    .search-form {
      display: flex;
      gap: 8px;
      margin-bottom: 10px;
    }

    .search-form input[type="search"] {
      flex: 1;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid #374151;
      background: #050609;
      color: var(--ink);
      font-size: 14px;
    }

    .search-form input::placeholder {
      color: #6b7280;
    }

    .search-form button {
      padding: 12px 16px;
      border-radius: 12px;
      border: 0;
      background: #111827;
      color: #fff;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
      white-space: nowrap;
    }

    .search-form button:disabled {
      opacity: 0.5;
      cursor: default;
    }

    .search-status {
      font-size: 13px;
      color: var(--muted);
      min-height: 20px;
      margin-bottom: 8px;
    }

    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
    }

    .product-card {
      border: 1px solid #1f2933;
      border-radius: 12px;
      padding: 14px;
      background: #050609;
      color: #f9fafb;
      transition: transform 0.18s, box-shadow 0.18s, border-color 0.18s;
    }

    .product-card:hover {
      transform: translateY(-2px);
      border-color: #4b5563;
      box-shadow: 0 6px 14px rgba(0,0,0,0.4);
    }

    .product-name {
      margin: 0 0 6px;
      font-size: 15px;
      font-weight: 600;
    }

    .product-price {
      margin: 0;
      font-size: 14px;
      font-weight: 600;
      color: var(--accent2);
    }

    .product-desc {
      margin: 8px 0 0;
      font-size: 13px;
      color: var(--muted);
      min-height: 34px;
    }

    .product-actions {
      margin-top: 10px;
    }

    .add-btn {
      width: 100%;
      padding: 10px 16px;
      border-radius: 8px;
      border: 0;
      background: var(--accent2);
      color: #fff;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: background 0.15s;
    }

    .add-btn:hover {
      background: #218838;
    }

    /* Membership section */
    .tiles {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
    }

    .tile {
      background: var(--card);
      border: 1px solid #1c2230;
      padding: 18px;
      border-radius: 16px;
      font-size: 14px;
    }

    .tile h3 {
      margin-top: 0;
      margin-bottom: 8px;
      font-size: 16px;
    }

    .membership-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 18px;
      margin-top: 16px;
    }

    .membership-card {
      background: #050609;
      border-radius: 14px;
      padding: 18px;
      border: 1px solid #1f2933;
    }

    .membership-card.featured {
      border-color: #6366f1;
    }

    .membership-icon {
      font-size: 24px;
      margin-bottom: 6px;
    }

    .membership-card h4 {
      margin: 0 0 4px;
      font-size: 16px;
    }

    .membership-tagline {
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 10px;
    }

    .membership-price {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .membership-price span {
      font-size: 11px;
      color: var(--muted);
      font-weight: 400;
      margin-left: 4px;
    }

    .membership-list {
      list-style: none;
      padding: 0;
      margin: 0 0 10px;
      font-size: 13px;
    }

    .membership-list li {
      margin-bottom: 4px;
    }

    .membership-list li::before {
      content: "‚úì ";
      color: #22c55e;
      font-weight: 700;
    }

    .membership-btn {
      display: inline-block;
      width: 100%;
      text-align: center;
      padding: 10px 14px;
      border-radius: 8px;
      background: #6366f1;
      color: #fff;
      font-size: 13px;
      font-weight: 600;
      margin-top: 4px;
    }

    .membership-btn:hover { background: #4f46e5; }

    .verification-note {
      margin-top: 6px;
      font-size: 11px;
      color: #fbbf24;
    }

    /* Footer */
    footer {
      text-align: center;
      opacity: 0.7;
      margin-top: 40px;
      font-size: 13px;
      color: var(--muted);
    }

    .coming-soon {
      text-align: center;
      margin-top: 16px;
      font-size: 13px;
      color: var(--muted);
    }

    /* Toast */
    .toast {
      position: fixed;
      top: 76px;
      right: 20px;
      background: #16a34a;
      color: #fff;
      padding: 10px 16px;
      border-radius: 8px;
      font-size: 13px;
      z-index: 200;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
      animation: slideIn 0.25s ease-out;
    }

    @keyframes slideIn {
      from { transform: translateX(140%); opacity: 0; }
      to   { transform: translateX(0); opacity: 1; }
    }

    @media (max-width: 640px) {
      header.hero h1 { font-size: 28px; }
      .wrap { padding-inline: 14px; }
      .top-nav-inner { flex-wrap: wrap; justify-content: space-between; }
      .nav-links { display: none; }
    }
  </style>
</head>
<body>
  <!-- Cart overlay -->
  <div class="cart-overlay" id="cart-overlay"></div>

  <!-- Cart panel -->
  <aside class="cart-panel" id="cart-panel">
    <div class="cart-header">
      <h2>Shopping Cart</h2>
      <button class="cart-close" id="cart-close-btn" aria-label="Close cart">√ó</button>
    </div>
    <div class="cart-items" id="cart-items">
      <div class="empty-cart">Your cart is empty</div>
    </div>
    <div class="cart-footer">
      <div class="cart-sub-row">
        <span>Items:</span>
        <span id="cart-item-count">0</span>
      </div>
      <div class="cart-total-row">
        <span>Estimated total:</span>
        <span id="cart-total">$0.00</span>
      </div>
      <div class="checkout-note">
        Checkout + shipping calculator will be added soon. For now this cart is for testing inventory + pricing.
      </div>
    </div>
  </aside>

  <!-- Top navigation -->
  <nav class="top-nav">
    <div class="top-nav-inner">
      <div class="nav-logo">
        <span class="emoji">üçä</span>
        <span>Growceryworld</span>
      </div>
      <div class="nav-links">
        <a href="#search">Search</a>
        <a href="#membership">Memberships</a>
      </div>
      <button class="cart-btn" id="cart-toggle-btn">
        üõí Cart
        <span class="cart-count" id="cart-count">0</span>
      </button>
    </div>
  </nav>

  <main class="wrap">
    <!-- Hero -->
    <header class="hero">
      <div class="emoji">üçä</div>
      <h1>Growceryworld</h1>
      <p class="tag">Giving you choices.</p>
      <p class="hero-sub">Fast shipping. No monthly membership increases. Free item with every order.</p>
      <a class="cta-email" href="mailto:info@growceryworld.com">email &gt;&gt;&gt; info@growceryworld.com</a>
    </header>

    <!-- Search section -->
    <section id="search" class="section search-section">
      <h2 style="font-size:20px;margin:0 0 8px;">Search products</h2>
      <p class="search-status" id="search-status"></p>
      <form id="gw-search" class="search-form" autocomplete="off">
        <input id="q" type="search" placeholder="Search by product name (e.g., cereal, Lysol, Dawn)..." aria-label="Search products" />
        <button type="submit" id="go">Search</button>
      </form>

      <div id="results" class="results-grid"></div>
    </section>

    <!-- Benefits tiles -->
    <section class="section">
      <div class="tiles">
        <article class="tile">
          <h3>Free item with every order</h3>
          <p>A signature benefit on every checkout. Simple, consistent, and generous.</p>
        </article>
        <article class="tile">
          <h3>Orders shipped via UPS</h3>
          <p>Predictable costs and reliable delivery options as we roll out.</p>
        </article>
        <article class="tile">
          <h3>Price-lock membership</h3>
          <p>Annual membership pricing that stays put. No surprise increases.</p>
        </article>
      </div>
    </section>

    <!-- Membership section -->
    <section id="membership" class="section">
      <h2 style="font-size:20px;margin:0 0 4px;text-align:center;">Growceryworld Memberships</h2>
      <p style="text-align:center;color:var(--muted);font-size:13px;margin:0 0 16px;">
        Honoring everyday shoppers, students, military, and air crew with locked-in annual pricing.
      </p>

      <div class="membership-grid">
        <!-- Standard -->
        <div class="membership-card featured">
          <div class="membership-icon">üõí</div>
          <h4>Standard</h4>
          <p class="membership-tagline">For everyone who loves savings</p>
          <p class="membership-price">$20.00 <span>/year</span></p>
          <ul class="membership-list">
            <li>Free item with every order</li>
            <li>Free bottle of water</li>
          </ul>
          <a href="https://square.link/u/CP70vULk" class="membership-btn">Join Standard Membership</a>
        </div>

        <!-- College Student -->
        <div class="membership-card">
          <div class="membership-icon">üéì</div>
          <h4>College Student</h4>
          <p class="membership-tagline">For currently enrolled students</p>
          <p class="membership-price">$16.00 <span>/year</span></p>
          <ul class="membership-list">
            <li>Free item with every order</li>
            <li>Free bottle of water</li>
          </ul>
          <a href="https://square.link/u/3NUsjpOH" class="membership-btn">Join Student Membership</a>
          <p class="verification-note">Verification required: student ID or .edu email</p>
        </div>

        <!-- Military -->
        <div class="membership-card">
          <div class="membership-icon">üéñÔ∏è</div>
          <h4>Military</h4>
          <p class="membership-tagline">Active duty, veterans, reserves, and families</p>
          <p class="membership-price">$18.00 <span>/year</span></p>
          <ul class="membership-list">
            <li>Free item with every order</li>
            <li>Free bottle of water</li>
          </ul>
          <a href="https://square.link/u/ijYhCdod" class="membership-btn">Join Military Membership</a>
          <p class="verification-note">Verification required: Military ID, VA card, or DD-214</p>
        </div>

        <!-- Air Crew -->
        <div class="membership-card">
          <div class="membership-icon">‚úàÔ∏è</div>
          <h4>Air Crew</h4>
          <p class="membership-tagline">Pilots, flight attendants, aviation pros</p>
          <p class="membership-price">$14.00 <span>/year</span></p>
          <ul class="membership-list">
            <li>Free item with every order</li>
            <li>Free bottle of water</li>
          </ul>
          <a href="https://square.link/u/GVXHIpOL" class="membership-btn">Join Air Crew Membership</a>
          <p class="verification-note">Verification required: airline ID or crew badge</p>
        </div>
      </div>
    </section>

    <p class="coming-soon">
      Coming Soon ‚Äî hosted on GitHub Pages and accelerated by Cloudflare.
    </p>

    <footer>
      <p>&copy; <span id="year"></span> Growceryworld. All rights reserved.</p>
    </footer>
  </main>

  <script>
    // ========= CONFIG =========
    const WORKER_URL = 'https://gw-search.benterpryzes2084.workers.dev'; // your Cloudflare Worker

    // ========= YEAR =========
    document.getElementById('year').textContent = new Date().getFullYear();

    // ========= CART STATE =========
    let cart = [];

    const cartPanel = document.getElementById('cart-panel');
    const cartOverlay = document.getElementById('cart-overlay');
    const cartItemsEl = document.getElementById('cart-items');
    const cartTotalEl = document.getElementById('cart-total');
    const cartCountEl = document.getElementById('cart-count');
    const cartItemCountEl = document.getElementById('cart-item-count');

    function openCart() {
      cartPanel.classList.add('open');
      cartOverlay.classList.add('show');
    }

    function closeCart() {
      cartPanel.classList.remove('open');
      cartOverlay.classList.remove('show');
    }

    document.getElementById('cart-toggle-btn').addEventListener('click', openCart);
    document.getElementById('cart-close-btn').addEventListener('click', closeCart);
    cartOverlay.addEventListener('click', closeCart);

    function formatMoney(amount) {
      return '$' + amount.toFixed(2);
    }

    function updateCartDisplay() {
      if (!cart.length) {
        cartItemsEl.innerHTML = '<div class="empty-cart">Your cart is empty</div>';
      } else {
        const frag = document.createDocumentFragment();
        cart.forEach(item => {
          const row = document.createElement('div');
          row.className = 'cart-item';

          const left = document.createElement('div');
          left.className = 'cart-item-info';

          const name = document.createElement('p');
          name.className = 'cart-item-name';
          name.textContent = item.name;

          const price = document.createElement('p');
          price.className = 'cart-item-price';
          price.textContent = formatMoney(item.price) + ' each';

          const qtyRow = document.createElement('div');
          qtyRow.className = 'cart-item-qty';

          const minusBtn = document.createElement('button');
          minusBtn.className = 'qty-btn';
          minusBtn.textContent = '‚àí';
          minusBtn.addEventListener('click', () => changeQuantity(item.id, -1));

          const qtySpan = document.createElement('span');
          qtySpan.textContent = item.quantity;

          const plusBtn = document.createElement('button');
          plusBtn.className = 'qty-btn';
          plusBtn.textContent = '+';
          plusBtn.addEventListener('click', () => changeQuantity(item.id, 1));

          const removeBtn = document.createElement('button');
          removeBtn.className = 'remove-btn';
          removeBtn.textContent = 'Remove';
          removeBtn.addEventListener('click', () => removeFromCart(item.id));

          qtyRow.appendChild(minusBtn);
          qtyRow.appendChild(qtySpan);
          qtyRow.appendChild(plusBtn);
          qtyRow.appendChild(removeBtn);

          left.appendChild(name);
          left.appendChild(price);
          left.appendChild(qtyRow);

          const right = document.createElement('div');
          right.style.textAlign = 'right';
          right.style.fontWeight = '600';
          right.style.fontSize = '14px';
          right.textContent = formatMoney(item.price * item.quantity);

          row.appendChild(left);
          row.appendChild(right);
          frag.appendChild(row);
        });
        cartItemsEl.innerHTML = '';
        cartItemsEl.appendChild(frag);
      }

      const itemCount = cart.reduce((sum, item) => sum + item.quantity, 0);
      const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);

      cartItemCountEl.textContent = itemCount;
      cartTotalEl.textContent = formatMoney(total);

      if (itemCount > 0) {
        cartCountEl.textContent = itemCount;
        cartCountEl.style.display = 'flex';
      } else {
        cartCountEl.style.display = 'none';
      }
    }

    function changeQuantity(id, delta) {
      const item = cart.find(i => i.id === id);
      if (!item) return;
      item.quantity += delta;
      if (item.quantity <= 0) {
        cart = cart.filter(i => i.id !== id);
      }
      updateCartDisplay();
    }

    function removeFromCart(id) {
      cart = cart.filter(i => i.id !== id);
      updateCartDisplay();
    }

    function showToast(message) {
      const toast = document.createElement('div');
      toast.className = 'toast';
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 2000);
    }

    function addToCart(id, name, price) {
      if (!price || price <= 0) {
        alert('Price not available for this item yet.');
        return;
      }
      const existing = cart.find(i => i.id === id);
      if (existing) {
        existing.quantity += 1;
      } else {
        cart.push({
          id,
          name,
          price,
          quantity: 1
        });
      }
      updateCartDisplay();
      showToast('Added to cart: ' + name);
    }

    // ========= SEARCH =========
    const searchInput = document.getElementById('q');
    const searchBtn = document.getElementById('go');
    const resultsDiv = document.getElementById('results');
    const searchStatusEl = document.getElementById('search-status');

    async function performSearch(evt) {
      if (evt) evt.preventDefault();

      const query = searchInput.value.trim();
      resultsDiv.innerHTML = '';
      searchStatusEl.textContent = '';

      if (!query) {
        searchStatusEl.textContent = 'Type something to search your Square inventory.';
        return;
      }

      searchBtn.disabled = true;
      searchBtn.textContent = 'Searching‚Ä¶';
      searchStatusEl.textContent = 'Searching‚Ä¶';

      try {
        const res = await fetch(WORKER_URL + '/search?q=' + encodeURIComponent(query));
        if (!res.ok) {
          const text = await res.text();
          console.error('Search failed:', res.status, text);
          searchStatusEl.textContent = 'Search error. Try again later.';
          return;
        }

        const data = await res.json();

        if (!Array.isArray(data.objects)) {
          console.error('Unexpected response shape:', data);
          searchStatusEl.textContent = 'Search error. Check Worker / Square config.';
          return;
        }

        const objects = data.objects.filter(o => o.type === 'ITEM');

        if (!objects.length) {
          searchStatusEl.textContent = 'No items found. Try a different keyword.';
          resultsDiv.innerHTML = '';
          return;
        }

        searchStatusEl.textContent = `Found ${objects.length} item(s).`;

        const frag = document.createDocumentFragment();

        objects.forEach(obj => {
          const itemData = obj.item_data || {};
          const variations = itemData.variations || [];
          const variation = variations[0]?.item_variation_data || null;
          const priceMoney = variation?.price_money || null;
          const price = priceMoney ? priceMoney.amount / 100 : null;

          const card = document.createElement('div');
          card.className = 'product-card';

          const nameEl = document.createElement('h3');
          nameEl.className = 'product-name';
          nameEl.textContent = itemData.name || 'Unnamed item';

          const priceEl = document.createElement('p');
          priceEl.className = 'product-price';
          priceEl.textContent = price != null ? formatMoney(price) : 'Price not available';

          const descEl = document.createElement('p');
          descEl.className = 'product-desc';
          descEl.textContent = itemData.description || '';

          const actions = document.createElement('div');
          actions.className = 'product-actions';

          const btn = document.createElement('button');
          btn.className = 'add-btn';
          btn.textContent = 'Add to Cart';
          btn.addEventListener('click', () => addToCart(obj.id, itemData.name || 'Unnamed item', price || 0));

          actions.appendChild(btn);
          card.appendChild(nameEl);
          card.appendChild(priceEl);
          card.appendChild(descEl);
          card.appendChild(actions);
          frag.appendChild(card);
        });

        resultsDiv.innerHTML = '';
        resultsDiv.appendChild(frag);

      } catch (err) {
        console.error('Search error:', err);
        searchStatusEl.textContent = 'Search failed. Check console for details.';
      } finally {
        searchBtn.disabled = false;
        searchBtn.textContent = 'Search';
      }
    }

    document.getElementById('gw-search').addEventListener('submit', performSearch);
  </script>
</body>
</html>
        
